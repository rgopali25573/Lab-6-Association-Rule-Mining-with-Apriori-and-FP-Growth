# Lab 6: Association Rule Mining with Apriori and FP Growth (MSCS-634-B01)

## Purpose

The goal of this lab was to perform **Association Rule Mining** on a retail transaction dataset using two popular algorithms: **Apriori** and **FP-Growth**. This helped uncover frequent itemsets and strong association rules between items frequently bought together. The analysis aids in understanding customer purchase behavior and can be used for recommendation systems, promotions, and product placements.

## Dataset Description

The dataset, `OnlineRetail.csv`, contains over 500,000 records of transactions from a UK-based online retailer, spanning from **December 2010** to **December 2011**. Each row represents a product purchase and includes the following key fields:

- **InvoiceNo** – Transaction identifier
- **StockCode** – Product code
- **Description** – Product name
- **Quantity** – Number of units purchased
- **InvoiceDate** – Date and time of the transaction
- **UnitPrice** – Price per unit of the product
- **CustomerID** – Unique customer identifier (some are missing)
- **Country** – Country of the customer

The data required preprocessing to clean missing values and convert transactions into a format suitable for association rule mining.

## Key Insights

### 1. **Top Frequent Items & Itemsets**
- The most purchased item was **"WHITE HANGING HEART T-LIGHT HOLDER"**.
- Both **Apriori** and **FP-Growth** identified the same top 10 frequent itemsets, indicating consistent results.
- Top frequent itemsets were single items, showing high individual product support (above 6–10%).

### 2. **Association Rules**
- Apriori and FP-Growth generated **151 rules** each.
- Strong associations include:
  - `ALARM CLOCK BAKELIKE RED` → `ALARM CLOCK BAKELIKE GREEN` (lift ≈ 12.5)
  - `PACK OF 72 RETROSPOT CAKE CASES` ↔ `60 TEATIME FAIRY CAKE CASES` (lift ≈ 8.3)
- High lift values indicate that these items are often purchased together and are positively correlated.

### 3. **Customer & Country Insights**
- Majority of purchases were from the **United Kingdom** (~90%).
- Other top countries include Germany, France, and Ireland.

### 4. **Correlation Analysis**
- There was **no strong correlation** between `Quantity` and `UnitPrice`, indicating independent behavior.

### 5. **Performance Comparison**
- **Apriori Time:** Slower due to candidate generation.
- **FP-Growth Time:** Faster and more efficient.
- Both resulted in the same number of itemsets and rules.

## Visualizations (Done in code)

The following visualizations were generated and included within the code for better insight:

- **Top 10 Most Purchased Items**: A horizontal bar chart showing the most frequently bought products based on transaction counts.
- **Correlation Heatmap**: A heatmap showing the correlation between `Quantity` and `UnitPrice`, which indicated near-zero correlation.
- **Distribution of Customers by Country**: A bar chart illustrating the top 20 countries by customer count, showing a clear dominance of the UK market.
- **Top 10 Frequent Itemsets (Apriori)**: A support-based bar chart displaying the most frequent itemsets discovered via the Apriori algorithm.
- **Top 10 Frequent Itemsets (FP-Growth)**: A similar chart using the FP-Growth algorithm, reinforcing the accuracy of the itemset mining.
- **Confidence vs Lift Scatterplot**: A comparative scatter plot for association rules generated by both Apriori and FP-Growth, plotting confidence against lift to identify strong rule clusters.

---

### Summary

This lab demonstrated how **association rule mining** can reveal hidden patterns in retail datasets. Both **Apriori** and **FP-Growth** are effective, but FP-Growth offers performance benefits on large datasets. The results can support better marketing strategies, improve inventory management, and personalize recommendations.
